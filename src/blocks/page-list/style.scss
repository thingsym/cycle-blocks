@use '../../../node_modules/flexbox-grid-mixins/dart-sass/flexbox-grid-mixins';

// Included Modules
@use '../../scss/variable';

.wp-block-cycle-blocks-page-list {
	&.layout-card {
		display: grid;
		grid-template-columns: 1fr;
		grid-auto-rows: 1fr;
		grid-gap: 1.2rem;

		width: 100%;
		max-width: variable.$default-layout-width;
		margin: 0 auto variable.$default-stack;

		article {
			min-width: 0;
			border: 1px solid variable.$default-border-color;
			padding-left: 0;
			padding-right: 0;
		}

		.wp-block-cycle-blocks-page-list__article-inner {
			margin: 0;
			padding: .6em;
		}

		.wp-block-cycle-blocks-page-list__entry-content {
			margin-top: variable.$default-stack;
		}

		.wp-block-cycle-blocks-page-list__entry-title {
			font-size: 140%;
		}

	}

	.wp-block-cycle-blocks-page-list__featured-image {
		margin: 0;
		line-height: 1;

		.wp-post-image {
			width: 100%;
			height: 100%;
		}
	}
	.wp-block-cycle-blocks-page-list__entry-title {
		margin: 0;
	}

}

@media screen and (min-width: #{map-get(variable.$default-breakpoints, xs ) + 1px} ) {
	.wp-block-cycle-blocks-page-list {
		&.layout-card {
			grid-template-columns: 1fr 1fr;
			grid-auto-rows: 1fr 1fr;

			&.columns-2 {
				grid-template-columns: 1fr 1fr;
				grid-auto-rows: 1fr 1fr;
			}
			&.columns-3 {
				grid-template-columns: 1fr 1fr 1fr;
				grid-auto-rows: 1fr 1fr 1fr;
			}
			&.columns-4 {
				grid-template-columns: 1fr 1fr 1fr 1fr;
				grid-auto-rows: 1fr 1fr 1fr 1fr;
			}
		}
	}
}

.wp-block-cycle-blocks-page-list {
	&.layout-topics {
		article {
			@include flexbox-grid-mixins.grid($flex-direction: column, $gap: 1rem);
		}
		.wp-block-cycle-blocks-page-list__featured-image {
			@include flexbox-grid-mixins.grid-col($flex-basis: 320px, $align-self: center);
		}
		.wp-block-cycle-blocks-page-list__article-inner {
			@include flexbox-grid-mixins.grid-col($col: auto);
		}
	}
}

@media screen and (min-width: #{map-get(variable.$default-breakpoints, xs ) + 1px} ) {
	.wp-block-cycle-blocks-page-list {
		&.layout-topics {
			article {
				@include flexbox-grid-mixins.grid($flex-direction: row, $flex-wrap: nowrap, $justify-content: space-between, $align-items: flex-start);

				.wp-block-cycle-blocks-page-list__featured-image + .wp-block-cycle-blocks-page-list__article-inner {
					margin-top: 0;
				}
			}
			.wp-block-cycle-blocks-page-list__featured-image {
				@include flexbox-grid-mixins.grid-col($flex-basis: 320px, $flex-shrink: 0, $flex-grow: 0, $align-self: unset);
			}
			.wp-block-cycle-blocks-page-list__article-inner {
				@include flexbox-grid-mixins.grid-col($col: auto, $flex-shrink: 1, $flex-grow: 1);
				margin-top: 0;
			}
			.wp-post-image {
				width: unset;
			}
		}
	}
}

.wp-block-cycle-blocks-page-list {
	&.layout-article,
	&.layout-topics {
		article + article {
			margin-top: variable.$default-stack;
		}
	}
}
